set terminal pdf
set xlabel "Number of iterations"
set ylabel "Time per operation (ns)"
set style data lines

set output "add_1thread.pdf"
set title "addtest with 1 thread"
plot [250:100000] "add_1threadcas.dat" title "compare and swap", "add_1threadpmutex.dat" title "pmutex", "add_1threadspinlock.dat" title "spin lock", "add_1threadunproc.dat" title "unprotected"

set output "add_2thread.pdf"
set title "addtest with 2 threads"
plot [250:100000] "add_2threadcas.dat" title "compare and swap", "add_2threadpmutex.dat" title "pmutex", "add_2threadspinlock.dat" title "spin lock", "add_2threadunproc.dat" title "unprotected"

set output "add_4thread.pdf"
set title "addtest with 4 threads"
plot [250:100000] "add_4threadcas.dat" title "compare and swap", "add_4threadpmutex.dat" title "pmutex", "add_4threadspinlock.dat" title "spin lock", "add_4threadunproc.dat" title "unprotected"

set output "add_8thread.pdf"
set title "addtest with 8 threads"
plot [250:100000] "add_8threadcas.dat" title "compare and swap", "add_8threadpmutex.dat" title "pmutex", "add_8threadspinlock.dat" title "spin lock", "add_8threadunproc.dat" title "unprotected"


set output "sl_1thread.pdf"
set title "sltest with 1 thread"
plot [250:25000] "sl_1threadpmutex.dat" title "pmutex", "sl_1threadspinlock.dat" title "spin lock", "sl_1threadunproc.dat" title "unprotected"

set output "sl_2thread.pdf"
set title "sltest with 2 threads"
plot [250:25000] "sl_2threadpmutex.dat" title "pmutex", "sl_2threadspinlock.dat" title "spin lock"

set output "sl_4thread.pdf"
set title "sltest with 4 threads"
plot [250:25000] "sl_4threadpmutex.dat" title "pmutex", "sl_4threadspinlock.dat" title "spin lock"

set output "sl_8thread.pdf"
set title "sltest with 8 threads"
plot [250:25000] "sl_8threadpmutex.dat" title "pmutex", "sl_8threadspinlock.dat" title "spin lock"


set output "sl_4-1threadlistratio.pdf"
set title "sltest with 4:1 thread to list ratio"
plot [250:25000] "sl_16thread4listpmutex.dat" title "pmutex", "sl_16thread4listspinlock.dat" title "spin lock"

set output "sl_2-1threadlistratio.pdf"
set title "sltest with 2:1 thread to list ratio"
plot [250:25000] "sl_8thread4listpmutex.dat" title "pmutex", "sl_8thread4listspinlock.dat" title "spin lock"

set output "sl_1-1threadlistratio.pdf"
set title "sltest with 1:1 thread to list ratio"
plot [250:25000] "sl_4thread4listpmutex.dat" title "pmutex", "sl_4thread4listspinlock.dat" title "spin lock", "sl_1thread1listunproc.dat" title "unprotected"

set output "sl_1-2threadlistratio.pdf"
set title "sltest with 1:2 thread to list ratio"
plot [250:25000] "sl_4thread8listpmutex.dat" title "pmutex", "sl_4thread8listspinlock.dat" title "spin lock", "sl_1thread2listunproc.dat" title "unprotected"

set output "sl_1-4threadlistratio.pdf"
set title "sltest with 1:4 thread to list ratio"
plot [250:25000] "sl_4thread16listpmutex.dat" title "pmutex", "sl_4thread16listspinlock.dat" title "spin lock", "sl_1thread4listunproc.dat" title "unprotected"

set output "sl_1-8threadlistratio.pdf"
set title "sltest with 1:8 thread to list ratio"
plot [250:25000] "sl_4thread32listpmutex.dat" title "pmutex", "sl_4thread32listspinlock.dat" title "spin lock", "sl_1thread8listunproc.dat" title "unprotected"